import{e as u,r as m,o as h,c as T,a,b as v,w as p,i as S,h as l,v as i,T as r,F as V,f as t,p as q,d as L}from"./index-2e4f8d1f.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";const g="/vue-learn-js/assets/jstip001-1390af12.jpg",o=n=>(q("data-v-ff416ef2"),n=n(),L(),n),j={class:"leftNav"},z={class:"leftNavContainer"},O={class:"leftNavLayout"},x={class:"Main"},C={class:"mainContainer"},_={class:"mainLayout"},N=t('<br data-v-ff416ef2><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>總分總</p><p class="fz28" data-v-ff416ef2>1.要講哪個知識點</p><p class="fz28" data-v-ff416ef2>2.細講</p><p class="fz28" data-v-ff416ef2>3.總結</p><br data-v-ff416ef2><br data-v-ff416ef2><div id="threetips001" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.1 淺拷貝 </div><p class="fz28" data-v-ff416ef2> 深拷貝會複製物件的所有屬性和嵌套物件，而淺拷貝只會複製一層屬性 </p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>只針對引用數據類型</p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>number:</span><span class="number" data-v-ff416ef2>1</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>o</span><span class="then" data-v-ff416ef2>=</span> <span class="word" data-v-ff416ef2>obj</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>o</span> <span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>o.number</span> <span class="then" data-v-ff416ef2>=</span><span class="number" data-v-ff416ef2>20</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>o</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//{number:20} . . . 堆 &amp; 棧</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>obj</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//{number:20} . . . 堆 &amp; 棧</span></div><div class="dis" data-v-ff416ef2><div class="pad20" data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2>obj</div><div data-v-ff416ef2>o</div><br data-v-ff416ef2></div><div class="pad20" data-v-ff416ef2> 棧 <div data-v-ff416ef2>→ 0x1111 →</div><div data-v-ff416ef2>→ 0x2222 ↗</div><div data-v-ff416ef2>把地址</div><div data-v-ff416ef2>賦值給他</div></div><div class="pad20" data-v-ff416ef2> 堆 <div data-v-ff416ef2>{ number:1 }</div><br data-v-ff416ef2><div data-v-ff416ef2>址</div></div></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>淺拷貝: 拷貝的是 地址</p><br data-v-ff416ef2><p data-v-ff416ef2>法一</p><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span> <span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="brackets" data-v-ff416ef2>}</div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>o</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>{</span><span class="word" data-v-ff416ef2>...obj</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>o</span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><p data-v-ff416ef2>法二</p><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>o</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>{}</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>Object</span><span class="word" data-v-ff416ef2>.assign</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>o,obj</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2> // (要拷貝的,被拷貝的)// (右 賦值 給 左)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>o</span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>淺拷貝只拷貝最外面那一層 (uname number)</p><p data-v-ff416ef2>簡單物件還可以 , 裡面又有物件時 , 有問題</p><p data-v-ff416ef2>. . &gt; 多層次嵌套 有問題</p><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span> <span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>inner:</span> <span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>cantcopy:</span><span class="src" data-v-ff416ef2>&quot;裡面的潛拷貝不到&quot;</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div class="brackets" data-v-ff416ef2>}</div><br data-v-ff416ef2><br data-v-ff416ef2><div class="dis" data-v-ff416ef2><div class="pad20" data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2>obj.name</div><div data-v-ff416ef2>o.name</div><br data-v-ff416ef2><div data-v-ff416ef2>obj.inner</div><div data-v-ff416ef2>o.inner</div></div><div class="pad20" data-v-ff416ef2> 棧 <div data-v-ff416ef2>wayne</div><div data-v-ff416ef2>wayne</div><div data-v-ff416ef2>obj直接把wayne複製給o</div><div data-v-ff416ef2>→ 0x1111 →</div><div data-v-ff416ef2>→ 0x1111 ↗</div><div data-v-ff416ef2>拷貝了地址</div></div><div class="pad20" data-v-ff416ef2> 堆 <br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2>{ cantcopy:&quot;裡面的潛拷貝不到&quot; }</div></div></div></div><p class="fz28" data-v-ff416ef2>解決 多層次嵌套 問題</p><div id="threetips002" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.2 深拷貝 </div><p class="fz28" data-v-ff416ef2> 深拷貝會複製物件的所有屬性和嵌套物件，而淺拷貝只會複製一層屬性 </p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>深拷貝 拷貝的是 物件 不是地址</p><p class="fz28 cor36" data-v-ff416ef2># 3 方法</p><p class="fz28" data-v-ff416ef2>1. 通過 遞歸 實現 深拷貝</p><p class="fz28" data-v-ff416ef2>2. lodash / cloneDeep</p><p class="fz28" data-v-ff416ef2>3. 通過 JSON.stringify() 實現</p><br data-v-ff416ef2><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>什麼是遞歸函數（recursion）?</p><p class="fz28" data-v-ff416ef2>一個函數在內部 調用自己 就是遞歸函數</p><p class="fz28" data-v-ff416ef2> 遞歸容易 &quot;棧溢出&quot; 錯誤 , 所以必須加 退出條件 return </p>',27),D={class:"bgcVS"},I=t('<div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>i</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>1</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>`這是第</span> <span class="then" data-v-ff416ef2>${</span><span class="word" data-v-ff416ef2>i</span> <span class="then" data-v-ff416ef2>}</span><span class="src" data-v-ff416ef2>次`</span> <span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>i</span> <span class="then" data-v-ff416ef2>&gt;=</span><span class="number" data-v-ff416ef2>6</span> <span class="brackets" data-v-ff416ef2>){</span><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>return </span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>i</span> <span class="then" data-v-ff416ef2>++</span></div></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>利用 遞歸函數 實現 setTimeout 模擬 setInterval</p><p data-v-ff416ef2>1. 每隔 1 秒輸出當前時間</p>',15),J=t('<div data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>( </span><span class="function" data-v-ff416ef2>函數, </span><span class="number" data-v-ff416ef2>時間 </span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>getTime</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>document.</span><span class="variable" data-v-ff416ef2>querySelector</span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;showTimeDiv&quot;</span><span class="brackets" data-v-ff416ef2>)</span><span class="variable" data-v-ff416ef2>.innerHTML</span><span class="then" data-v-ff416ef2>=</span> <span class="then" data-v-ff416ef2>new </span><span class="brackets" data-v-ff416ef2>Date()</span><span class="variable" data-v-ff416ef2>.toLocaleString</span><span class="brackets" data-v-ff416ef2>()</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>getTime</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>document.</span><span class="variable" data-v-ff416ef2>querySelector</span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;.showTimeDiv&quot;</span><span class="brackets" data-v-ff416ef2>)</span><span class="variable" data-v-ff416ef2>.innerHTML</span><span class="then" data-v-ff416ef2>=</span> <span class="then" data-v-ff416ef2>new </span><span class="brackets" data-v-ff416ef2>Date()</span><span class="variable" data-v-ff416ef2>.toLocaleString</span><span class="brackets" data-v-ff416ef2>()</span><div data-v-ff416ef2></div><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>getTime,</span><span class="number" data-v-ff416ef2>1000</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>for in . for of</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 1. 循環數組</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>cosnt</span> <span class="word" data-v-ff416ef2>arr</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;</span><span class="brackets" data-v-ff416ef2>]</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for...in 輸出 數組成員 在數組中 的索引</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>in </span> <span class="word" data-v-ff416ef2>arr</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>n </span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>// 0 // 1 // 2 // 3</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for...of 輸出 數組的成員</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>of </span> <span class="word" data-v-ff416ef2>arr</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>n </span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>// a // b // c // d</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 2. 循環物件</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>n:</span><span class="number" data-v-ff416ef2>4,</span> <span class="word" data-v-ff416ef2>m:</span><span class="number" data-v-ff416ef2>5,</span> <span class="word" data-v-ff416ef2>k:</span><span class="number" data-v-ff416ef2>6</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for...in </span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>in </span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 物件的屬性名</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>n</span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>// n // m // k</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 物件的屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>obj</span> <span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>n</span> <span class="brackets" data-v-ff416ef2>])</span><span class="comment" data-v-ff416ef2>// 4 // 5 // 6</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for...of </span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>of </span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 報錯 , 不能循環</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 因為沒有 iterator 接口</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 3. 循環數組物件</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>arrObj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>[{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>name:</span> <span class="src" data-v-ff416ef2>&quot;wayne&quot;,</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}, {</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>name:</span> <span class="src" data-v-ff416ef2>&quot;jack&quot;,</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>9</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}]</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>nObj </span><span class="function" data-v-ff416ef2>of </span><span class="word" data-v-ff416ef2>arrObj</span> <span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>nObj</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//{name:&quot;wayne&quot;,number:1},{name:&quot;jack&quot;,number:9}</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>in </span> <span class="word" data-v-ff416ef2>nObj</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>nObj</span><span class="brackets" data-v-ff416ef2>[</span> <span class="word" data-v-ff416ef2>n</span><span class="brackets" data-v-ff416ef2>]) </span><span class="comment" data-v-ff416ef2>// wayne // 1 // jack // 9</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for in 循環 物件</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// for of 循環 數組</span></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>利用 遞歸 函數 實現 深拷貝</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span> <span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="brackets" data-v-ff416ef2>}</div><span class="comment" data-v-ff416ef2>// 我想把 obj 物件 拷貝給 o</span><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>o</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>{}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>思想:</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>拿到物件 利用 遍歷 把屬性(值) 取過來 做 賦值</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>把 obj 的 wayne 賦值給 o 的 uname 完成一次賦值</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>再利用 循環 把 obj 的 1 傳給 o 的 number</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>如果是簡單類型直接放行</span></div><br data-v-ff416ef2><div class="por" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>( </span><span class="word" data-v-ff416ef2>newObj, oldObj </span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>//把舊的值取出來給新的值</span><div data-v-ff416ef2></div><span class="comment" data-v-ff416ef2>//先遍歷舊的 , 注意 k 是誰</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>k </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>oldObj </span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// k 屬性名 oldObj[ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// newObj[ k ] === o.uname</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>o,obj</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//函數調用,o是新物件,obj是舊物件</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>o</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>o.number</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>99</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span></div><div class="objectDivPoa" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 2. 循環物件</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>n:</span><span class="number" data-v-ff416ef2>4,</span> <span class="word" data-v-ff416ef2>m:</span><span class="number" data-v-ff416ef2>5,</span> <span class="word" data-v-ff416ef2>k:</span><span class="number" data-v-ff416ef2>6</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 物件的屬性名</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>n</span><span class="brackets" data-v-ff416ef2>) </span><div data-v-ff416ef2></div><span class="comment" data-v-ff416ef2>// n // m // k</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 物件的屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>n</span><span class="brackets" data-v-ff416ef2>])</span><div data-v-ff416ef2></div><span class="comment" data-v-ff416ef2>// 4 // 5 // 6</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><br data-v-ff416ef2><p data-v-ff416ef2>Q: oldObj [ k ] 是誰?</p><p data-v-ff416ef2>舊物件 屬性值</p><br data-v-ff416ef2><p data-v-ff416ef2>Q: newObj [ k ] 是誰?</p><p data-v-ff416ef2>新物件 屬性名</p><br data-v-ff416ef2><p data-v-ff416ef2>------------以上做潛拷貝------------</p><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>hobby:</span><span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;跑步&quot;,&quot;足球&quot;</span><span class="brackets" data-v-ff416ef2>]</span><div data-v-ff416ef2></div></div><div class="brackets" data-v-ff416ef2>}</div><br data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>遇到數組 跑步拿出來 放 hobby[0] 足球拿租來 放 hobby[1]</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>( </span><span class="word" data-v-ff416ef2>newObj, oldObj </span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>//把舊的值取出來給新的值</span><div data-v-ff416ef2></div><span class="comment" data-v-ff416ef2>//先遍歷舊的 , 注意 k 是誰</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>k </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>oldObj </span><span class="brackets" data-v-ff416ef2>){</span><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>//</span><span class="comment" data-v-ff416ef2> 處理數組問題</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>通過值來判斷</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span> <span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>] </span><span class="word" data-v-ff416ef2>intanceof </span><span class="brackets" data-v-ff416ef2>Array</span><span class="brackets" data-v-ff416ef2>) { </span><span class="comment" data-v-ff416ef2>// oldObj [ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>我要把hobby數組再次遍歷</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>我要把跑步拿出來放到新物件hobby第1個參數</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>我要把足球拿出來放到新物件hobby第2個參數</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>[ ]</span><div data-v-ff416ef2></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2> newObj[k] 是 hobby</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2> 新物件的 hobby 先給他一個空數組</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>然後我在遍歷舊數組把他放進去</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// </span><span class="comment" data-v-ff416ef2>deepCopy(newObj[k],[&quot;跑步&quot;,&quot;足球&quot;])</span></div><div class="por" data-v-ff416ef2><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>],</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>])</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//調用自己遍歷數組時</span></div><div data-v-ff416ef2><span class="number" data-v-ff416ef2>// K 變成數組的索引號了</span></div><div class="objectDivPoa" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 1. 循環數組</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>cosnt</span><span class="word" data-v-ff416ef2>arr</span><span class="then" data-v-ff416ef2>=</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;</span><span class="brackets" data-v-ff416ef2>]</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//for...in輸出</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>數組成員在</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>數組中的索引</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>n </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>arr</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>n </span><span class="brackets" data-v-ff416ef2>) </span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 0 // 1 // 2 // 3</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div></div></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span><span class="then" data-v-ff416ef2>else </span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// k 屬性名 oldObj[ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// newObj[ k ] === o.uname</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>o,obj</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//函數調用,o是新物件,obj是舊物件</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>o</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>o.number</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>99</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="number" data-v-ff416ef2>處理遇到物件</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>hobby:</span><span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;跑步&quot;,&quot;足球&quot;</span><span class="brackets" data-v-ff416ef2>]</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>family:</span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>baby:</span><span class="src" data-v-ff416ef2>&quot;小neo&quot;</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div class="brackets" data-v-ff416ef2>}</div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>( </span><span class="word" data-v-ff416ef2>newObj, oldObj </span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>//把舊的值取出來給新的值</span><div data-v-ff416ef2></div><span class="comment" data-v-ff416ef2>//先遍歷舊的 , 注意 k 是誰</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>k </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>oldObj </span><span class="brackets" data-v-ff416ef2>){</span><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 處理數組問題</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 通過值來判斷</span></div><div data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span> <span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>] </span><span class="word" data-v-ff416ef2>intanceof </span><span class="brackets" data-v-ff416ef2>Array</span><span class="brackets" data-v-ff416ef2>) { </span><span class="comment" data-v-ff416ef2>// oldObj [ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 我要把hobby數組再次遍歷</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 我要把跑步拿出來放到新物件hobby第1個參數</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 我要把足球拿出來放到新物件hobby第2個參數</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>[ ]</span><div data-v-ff416ef2></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// newObj[k] 是 hobby</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2> // 新物件的 hobby 先給他一個空數組</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 然後我在遍歷舊數組把他放進去</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// deepCopy(newObj[k],[&quot;跑步&quot;,&quot;足球&quot;])</span></div><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>],</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>])</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//調用自己遍歷數組時</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// K 變成數組的索引號了</span></div></div></div></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>} </span><span class="then" data-v-ff416ef2>else if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span> <span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>] </span><span class="word" data-v-ff416ef2>intanceof </span><span class="brackets" data-v-ff416ef2>Object</span><span class="brackets" data-v-ff416ef2>) { </span><span class="comment" data-v-ff416ef2>// oldObj [ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{ }</span><span class="cor36 padTwo" data-v-ff416ef2> ← . . . . . ↑ . . . 改這兩個 </span><div data-v-ff416ef2></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>],</span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[</span><span class="word" data-v-ff416ef2>k</span><span class="brackets" data-v-ff416ef2>])</span></div></div></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span><span class="then" data-v-ff416ef2>else </span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// k 屬性名 oldObj[ k ] 屬性值</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>// newObj[ k ] === o.uname</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><p data-v-ff416ef2># 一定要 先數組 再物件</p><p data-v-ff416ef2>因為 數組 屬於物件 他就把 數組當物件</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>([</span><span class="number" data-v-ff416ef2>1, 2, 3</span><span class="brackets" data-v-ff416ef2>]</span><span class="word" data-v-ff416ef2>instanceof</span><span class="brackets" data-v-ff416ef2>Object</span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>// true</span></div><div class="comment" data-v-ff416ef2>// 陣列 被當成 物件</div></div>',76),M=t('<p class="fz28 cor36" data-v-ff416ef2># 你怎麼實現 深拷貝?</p><p class="fz28" data-v-ff416ef2>深拷貝 是做到 拷貝出來的 新物件 不會影響 舊物件</p><p class="fz28" data-v-ff416ef2>想實現 深拷貝 函數遞歸</p><p class="fz28" data-v-ff416ef2>當我在 普通拷貝 直接賦值就好了</p><p class="fz28" data-v-ff416ef2>當我遇到 陣列 我再次調用 這個函數</p><p class="fz28" data-v-ff416ef2>當我遇到物件 我再次調用遞歸</p><p class="fz28" data-v-ff416ef2>先 陣列 後 物件</p><div id="threetips003" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.3 lodash </div><p class="fz28" data-v-ff416ef2> 庫 . 把一些常用的 方法 封裝好 . 只需要把庫引用進來 . 調用一個函數就可以用了 </p><a href="https://www.lodashjs.com/docs/lodash.cloneDeep#_clonedeepvalue" class="fz28" data-v-ff416ef2>@ lodash深拷貝</a><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>script </span><span class="src" data-v-ff416ef2>src</span> <span class="then" data-v-ff416ef2>=</span><span class="src" data-v-ff416ef2>&quot;lodash.js&quot;</span><span class="then" data-v-ff416ef2>&gt;＜/ </span><span class="number" data-v-ff416ef2>script</span> <span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>hobby:</span><span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;跑步&quot;,&quot;足球&quot;</span><span class="brackets" data-v-ff416ef2>]</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>family:</span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>baby:</span><span class="src" data-v-ff416ef2>&quot;小neo&quot;</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="brackets" data-v-ff416ef2>o </span> <span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>_.</span><span class="variable" data-v-ff416ef2>cloneDeep</span><span class="brackets" data-v-ff416ef2>( obj )</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// _.cloneDeep 有返回值 , 我 const o 接過來</span></div></div><div id="threetips004" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.4 JSON 實現 深拷貝 </div><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>uname:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>number:</span> <span class="number" data-v-ff416ef2>1</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>hobby:</span><span class="brackets" data-v-ff416ef2>[</span><span class="src" data-v-ff416ef2>&quot;跑步&quot;,&quot;足球&quot;</span><span class="brackets" data-v-ff416ef2>]</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>family:</span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>baby:</span><span class="src" data-v-ff416ef2>&quot;小neo&quot;</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="brackets" data-v-ff416ef2>o </span> <span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>_.</span><span class="variable" data-v-ff416ef2>cloneDeep</span><span class="brackets" data-v-ff416ef2>( obj )</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// _.cloneDeep 有返回值 , 我 const o 接過來</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//把物件轉成JSON字串</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.stringify</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>// 得到字串</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.stringify</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>))</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.parse</span><span class="brackets" data-v-ff416ef2>(</span><span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.stringify</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>))</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>o</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.parse</span><span class="brackets" data-v-ff416ef2>(</span><span class="brackets" data-v-ff416ef2>JSON</span><span class="variable" data-v-ff416ef2>.stringify</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>))</span></div></div><div id="threetips005" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.5 異常處理 </div><div id="" class="articleCardTitle cor36 fz34" data-v-ff416ef2>throw 拋異常</div><div class="bgcVS" data-v-ff416ef2><p data-v-ff416ef2>JavaScript 中的驚嘆號（&quot;!&quot;）操作符</p><br data-v-ff416ef2><p data-v-ff416ef2>1. 邏輯 NOT 運算符：</p><br data-v-ff416ef2><p data-v-ff416ef2> 驚嘆號（&quot;!&quot;）在 JavaScript 中被用作邏輯 NOT 運算符。它會將其後的表達式的真值反轉，即如果表達式是真，則 NOT 運算後為假；如果表達式是假，則 NOT 運算後為真。 </p><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>isTrue</span> <span class="then" data-v-ff416ef2>=</span><span class="number" data-v-ff416ef2>true</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>isFalse</span> <span class="then" data-v-ff416ef2>=</span><span class="number" data-v-ff416ef2>!isTrue</span><span class="comment" data-v-ff416ef2>//isFalse將會是false</span></div><br data-v-ff416ef2><p data-v-ff416ef2>1.1</p><br data-v-ff416ef2><p data-v-ff416ef2> 如果您的變數 x 沒有被定義，那麼在使用 ! 來取得布林相反值時，會得到 true，因為 undefined 被轉換為布林值時為 false，而取其相反值則是 true。 </p><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>var </span> <span class="word" data-v-ff416ef2>y</span><span class="comment" data-v-ff416ef2>//y是undefined</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>var </span><span class="word" data-v-ff416ef2>oppositeValue</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>!y</span><span class="comment" data-v-ff416ef2>//oppositeValue將是true</span></div><br data-v-ff416ef2><p data-v-ff416ef2>2. 轉換為布林值：</p><br data-v-ff416ef2><p data-v-ff416ef2> 在一些情況下，驚嘆號也可以將值轉換為布林值。將任何值進行這樣的轉換後，非空字串將轉換為 true，數字 0 轉換為 false，以及其他值按通常的 JavaScript 轉換規則進行轉換。 </p><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>value</span> <span class="then" data-v-ff416ef2>=</span><span class="src" data-v-ff416ef2>&quot;Hello&quot;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>convertedValue</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>!!value</span><span class="comment" data-v-ff416ef2>//convertedValue將會是true，因為非空字串轉換為true</span></div><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>x,y</span> <span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//如果變數x沒有被定義,那麼在使用!來取得布林相反值時,得到true,因為undefined被轉換為布林值時為false,而取其相反值則是true。</span></div><span class="then" data-v-ff416ef2>if</span> <span class="brackets" data-v-ff416ef2>(</span><span class="number" data-v-ff416ef2>!x</span> <span class="then" data-v-ff416ef2>|| </span><span class="number" data-v-ff416ef2>!y</span> <span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//當undefined時,為true</span></div><span class="function" data-v-ff416ef2>throw </span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;沒有參數傳遞進來&quot;</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//發現不return值了,一扔錯誤,直接中斷</span></div><span class="function" data-v-ff416ef2>throw </span><span class="then" data-v-ff416ef2>new </span><span class="word" data-v-ff416ef2>Error </span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;沒有參數傳遞進來&quot;</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//一般用這個,效果一樣,且會標註第幾行</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>return </span> <span class="word" data-v-ff416ef2>x</span><span class="then" data-v-ff416ef2>+</span> <span class="word" data-v-ff416ef2>y</span><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 我沒有傳值 x+y 是 undefined + undefined = NaN</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><p class="fz28" data-v-ff416ef2>總結</p><p class="fz28" data-v-ff416ef2>1. throw 後面跟異常訊息,程式也會中止執行</p><p class="fz28" data-v-ff416ef2>2. Error 對象配合 throw 可設置詳細錯誤訊息</p><div id="" class="articleCardTitle cor36 fz34" data-v-ff416ef2>try catch</div><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>p</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>test</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>p</span><span class="then" data-v-ff416ef2>&gt;</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>try</span> <span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>//try寫可能發送錯誤的代碼</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>p</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;.p&quot;</span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>//往錯誤的catch(){}走</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//const p = document.querySelector(&quot;p&quot;) // 正確往下走</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>p.style.color</span><span class="then" data-v-ff416ef2>=</span> <span class="src" data-v-ff416ef2>&quot;red&quot;</span></div><div data-v-ff416ef2></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span><span class="variable" data-v-ff416ef2>catch</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>err</span><span class="brackets" data-v-ff416ef2>){ </span><span class="comment" data-v-ff416ef2>// 注意catch後面() , ()裡面是形參 寫什麼都行</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 這邊拋錯後 依然會繼續執行</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 攔截錯誤,提示瀏覽器提供的錯誤訊息,但不中斷程式執行</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>err</span><span class="word" data-v-ff416ef2>.message</span><span class="brackets" data-v-ff416ef2>)</span></div><span class="comment" data-v-ff416ef2>//err是我的形參可以自訂,message是固定的屬性</span><div data-v-ff416ef2><span class="function" data-v-ff416ef2>throw </span><span class="then" data-v-ff416ef2>new </span><span class="brackets" data-v-ff416ef2>Error</span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;選擇器選取錯誤&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//需要加return中斷程式</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// return </span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>finally</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="comment" data-v-ff416ef2>//不管程式對不對,一定會執行的代碼</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;比如可用在獲取資料的轉圈&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="number" data-v-ff416ef2>11</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span></div></div><p class="fz28" data-v-ff416ef2>小結</p><p class="fz28" data-v-ff416ef2>1. try...catch用於捕獲錯誤訊息</p><p class="fz28" data-v-ff416ef2>2. 將預估可能發生錯誤的代碼寫在 try</p><p class="fz28" data-v-ff416ef2>3. 如果 try 錯誤 執行 catch 並獲取錯誤訊息</p><p class="fz28" data-v-ff416ef2>4. finally 不管怎樣 都執行</p><div id="" class="articleCardTitle cor36 fz34" data-v-ff416ef2>debugger</div><p class="fz28" data-v-ff416ef2>代碼特別長 一打斷點 就自動跳過來了</p><p class="fz28" data-v-ff416ef2>目的</p><p class="fz28" data-v-ff416ef2>在運行時 可直接跳到這邊 不用再開sorce...</p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="variable" data-v-ff416ef2>deepCopy</span><span class="brackets" data-v-ff416ef2>( </span><span class="word" data-v-ff416ef2>newObj, oldObj </span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="number" data-v-ff416ef2>debugger</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>for </span> <span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>k </span><span class="function" data-v-ff416ef2>in </span><span class="word" data-v-ff416ef2>oldObj </span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>newObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span><span class="then" data-v-ff416ef2>= </span><span class="word" data-v-ff416ef2>oldObj</span><span class="brackets" data-v-ff416ef2>[ </span><span class="word" data-v-ff416ef2>k </span><span class="brackets" data-v-ff416ef2>]</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div id="threetips006" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.6 this 指向 </div><table class="fz30" data-v-ff416ef2><tr data-v-ff416ef2><th data-v-ff416ef2><div class="pad20" data-v-ff416ef2>調用方式</div></th><th data-v-ff416ef2><div class="pad20" data-v-ff416ef2>示例</div></th><th data-v-ff416ef2><div class="pad20" data-v-ff416ef2>函數中this指向</div></th></tr><tr data-v-ff416ef2><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>通過new調用</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>mew method()</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>新物件</div></td></tr><tr data-v-ff416ef2><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>直接調用</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>method()</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>全局對象window</div></td></tr><tr data-v-ff416ef2><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>通過物件調用</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>obj.method()</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>前面的物件</div></td></tr><tr data-v-ff416ef2><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>call.apply.bind</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>method.call(ctx)</div></td><td data-v-ff416ef2><div class="pad20" data-v-ff416ef2>第一個參數</div></td></tr></table><br data-v-ff416ef2><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>1. 普通函數 this</p><p class="fz40" data-v-ff416ef2>誰調用 this的值 指向誰</p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//是 window.fn() // window 調用的指向 window</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span> <span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>window</span><span class="variable" data-v-ff416ef2>.setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){})</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="src" data-v-ff416ef2>&quot;use strict&quot;</span><span class="comment" data-v-ff416ef2>//語法要嚴格按照正常語法來寫</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//所有變量要先聲明在賦值</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//函數不允許聲明多個一樣的</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="src" data-v-ff416ef2>&quot;use strict&quot;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//undefined</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>點擊</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;button&quot;</span><span class="brackets" data-v-ff416ef2>)</span><span class="variable" data-v-ff416ef2>.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;,</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="pTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//button , button 調用了我這個函數</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>})</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>sayHi:</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2><div class="pTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//指向obj</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>obj.sayHi</span><span class="brackets" data-v-ff416ef2>()</span></div></div><p class="fz28" data-v-ff416ef2>2. 箭頭函數 this</p><p class="fz40" data-v-ff416ef2>箭頭函數 this 根據上下文 , 去上一級作用域找 this</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2> 1.箭頭函數 默認 綁定 外層 this 的值, 所以在 箭頭函數中 this 的值和 外層的 this 是一樣的 </p><p class="fz28" data-v-ff416ef2>2.箭頭函數的的 this 引用的就是最近作用域中的 this</p><p class="fz28" data-v-ff416ef2> 3.向外層作用域中 , 一層一層查找 this , 直到有 this 的定義 </p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>user</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><div class="bor pad20 disInl" data-v-ff416ef2><span class="word" data-v-ff416ef2>name:</span> <span class="src" data-v-ff416ef2>&quot;wayne&quot;</span><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//箭頭函數中的this為</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//函數聲明環境中的this一致</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>sayHi:</span><span class="brackets" data-v-ff416ef2>()</span><span class="function" data-v-ff416ef2>=&gt;</span><span class="brackets" data-v-ff416ef2>{</span></div><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//箭頭函數裡面沒有this</span><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//他綁定最近一級的this(這個物件裡面的this)</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//物件的this是誰?</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//函數有this</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//而物件的this是外層 //window</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span></div></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>btn</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;.btn&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><span class="comment" data-v-ff416ef2>//普通函數指DOM對象</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;,</span><span class="function" data-v-ff416ef2>function</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="pTwo" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>// btn</span></div><div class="brackets" data-v-ff416ef2>}</div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 箭頭函數 此時 this 指向 window</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;,</span><span class="brackets" data-v-ff416ef2>()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span></div><div class="pTwo" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>// window</span></div><div class="brackets" data-v-ff416ef2>})</div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>原型對象時</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>Person.prototype.sayHi</span><span class="then" data-v-ff416ef2>=</span> <span class="brackets" data-v-ff416ef2>()</span><span class="function" data-v-ff416ef2>=&gt;</span> <span class="brackets" data-v-ff416ef2>{</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="src" data-v-ff416ef2>&quot;hi&quot;</span> <span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//構造函數&amp;原型對象裡的this都指向實例</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span> <span class="word" data-v-ff416ef2>p1</span><span class="then" data-v-ff416ef2>=</span> <span class="then" data-v-ff416ef2>new </span><span class="brackets" data-v-ff416ef2>Person()</span><span class="comment" data-v-ff416ef2>//this不指向p1了</span></div></div><p class="fz28" data-v-ff416ef2>總結</p><p class="fz28" data-v-ff416ef2>1. 函數內不存在 this , 沿用上一級的</p><p class="fz28" data-v-ff416ef2>2. 不適用 . . &gt; 構造函數 . 原型函數 . dom 事件函數</p><p class="fz28" data-v-ff416ef2>3. 適用 . . &gt; 需要用上層 this 的地方</p><div id="threetips007" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.7 改變 this --- call() </div><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2> 使用 call 方法 <span class="spo cor36" data-v-ff416ef2> 調用函數 </span> , 同時 指定 被調用 函數中的 <span class="spo cor36" data-v-ff416ef2> this 的值 </span></p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>name:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//1.調用函數</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//2.改變this指向</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>()</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="variable" data-v-ff416ef2>.call</span><span class="brackets" data-v-ff416ef2>()</span><span class="comment" data-v-ff416ef2>//只調用</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="variable" data-v-ff416ef2>.call</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//打印了obj//代表改變了this指向</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 3. 返回值: 本身在調用函數, 所以返回值就是函數的返回值</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>x,y</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>x</span><span class="then" data-v-ff416ef2>+</span> <span class="word" data-v-ff416ef2>y</span><span class="brackets" data-v-ff416ef2>)</span> <span class="comment" data-v-ff416ef2>//3</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="variable" data-v-ff416ef2>.call</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj,</span><span class="number" data-v-ff416ef2>1,2</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div id="threetips008" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.8 改變 this --- apply() </div><p class="fz28" data-v-ff416ef2> 使用 apply 方法 <span class="spo cor36" data-v-ff416ef2> 調用函數 </span> , 同時 指定 被調用 函數中的 <span class="spo cor36" data-v-ff416ef2> this 的值 </span></p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>name:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//1.調用函數</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//2.改變this指向</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="variable" data-v-ff416ef2>.apply</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>x,y</span> <span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//window</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>x+y</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span> <span class="word" data-v-ff416ef2>.</span><span class="variable" data-v-ff416ef2>apply</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj, </span><span class="brackets" data-v-ff416ef2>[</span> <span class="number" data-v-ff416ef2>1, 2 </span><span class="brackets" data-v-ff416ef2>])</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>// 3. 返回值: 本身在調用函數, 所以返回值就是函數的返回值</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//使用場景:用Math.max()求數組最大值</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="variable" data-v-ff416ef2>max</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>Math</span><span class="variable" data-v-ff416ef2>.max</span><span class="brackets" data-v-ff416ef2>(</span> <span class="number" data-v-ff416ef2>1,2,3</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>max</span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="variable" data-v-ff416ef2>max</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>Math</span><span class="variable" data-v-ff416ef2>.max.apply</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>Math,</span><span class="brackets" data-v-ff416ef2>[</span> <span class="number" data-v-ff416ef2>1,2,3</span><span class="brackets" data-v-ff416ef2>])</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>max</span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>arr</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>[</span><span class="number" data-v-ff416ef2>100,44,77</span><span class="brackets" data-v-ff416ef2>]</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="variable" data-v-ff416ef2>max</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>Math</span><span class="variable" data-v-ff416ef2>.max.apply</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>Math,arr</span> <span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="variable" data-v-ff416ef2>min</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>Math</span><span class="variable" data-v-ff416ef2>.max.apply</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>Math,arr</span> <span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="variable" data-v-ff416ef2>min</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>Math</span><span class="variable" data-v-ff416ef2>.max.apply</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>null,arr</span> <span class="brackets" data-v-ff416ef2>)</span><span class="comment" data-v-ff416ef2>//this指向用null不改變也可以</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>max</span> <span class="brackets" data-v-ff416ef2>)</span></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>求數組最大值</p><p data-v-ff416ef2>1.for循環</p><p data-v-ff416ef2>2.apply(要綁定的this,[數組])</p><p data-v-ff416ef2>3.console.log(Math.max(...arr))</p></div><p class="fz28" data-v-ff416ef2>call &amp; apply</p><p class="fz28" data-v-ff416ef2>都能調用函數 , 改變 this 指向</p><p class="fz28" data-v-ff416ef2>差在 參數不一樣 , apply 傳遞的 必須是 數組</p><div id="threetips009" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.9 改變 this --- bind() </div><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>obj</span> <span class="then" data-v-ff416ef2>=</span><span class="brackets" data-v-ff416ef2>{</span> <span class="word" data-v-ff416ef2>name:</span><span class="src" data-v-ff416ef2>&quot;wayne&quot;</span> <span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>fn</span> <span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span> <span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span> <span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//1.bind不調用函數</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//2.能改變this指向</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span><span class="variable" data-v-ff416ef2>.bind</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//3.返回值:返回 已改變this後 的函數</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>fun</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>fn</span><span class="variable" data-v-ff416ef2>.bind</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>obj</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>console.</span><span class="variable" data-v-ff416ef2>log</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>fun</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>fun</span><span class="brackets" data-v-ff416ef2>()</span></div><br data-v-ff416ef2><br data-v-ff416ef2><p data-v-ff416ef2>場景: 改變定時器內的 this 指向</p><br data-v-ff416ef2><p data-v-ff416ef2>需求: 有一個按鈕 , 點擊後禁用 , 2 秒後開啟</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>發送信息</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>btn</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;button&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn</span><span class="variable" data-v-ff416ef2>.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;</span><span class="then" data-v-ff416ef2>,</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>() { </span><span class="comment" data-v-ff416ef2> //回調</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>true</span><span class="comment" data-v-ff416ef2>//這樣btn改名btn111也可以</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>false</span><div data-v-ff416ef2></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>2000</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>})</span></div><br data-v-ff416ef2><p data-v-ff416ef2>出問題, setTimeout 裡面的 this 指向 window</p><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>發送信息</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>btn</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;button&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn</span><span class="variable" data-v-ff416ef2>.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;</span><span class="then" data-v-ff416ef2>,</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>() { </span><span class="comment" data-v-ff416ef2> //回調</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>true</span><span class="comment" data-v-ff416ef2>//這樣btn改名btn111也可以</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>btn</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>false</span><div data-v-ff416ef2></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>2000</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>})</span></div><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>發送信息</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>btn</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;button&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn</span><span class="variable" data-v-ff416ef2>.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;</span><span class="then" data-v-ff416ef2>,</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>() { </span><span class="comment" data-v-ff416ef2> //回調</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>true</span><span class="comment" data-v-ff416ef2>//這樣btn改名btn111也可以</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//在這個普通函數裡面,我們要this由原來的window改為btn</span></div><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>false</span><div data-v-ff416ef2></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span><span class="variable" data-v-ff416ef2>.bind</span><span class="brackets" data-v-ff416ef2>( btn ), </span><span class="number" data-v-ff416ef2>2000</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>})</span></div><br data-v-ff416ef2><hr data-v-ff416ef2><div data-v-ff416ef2><img style="width:100%;" src="'+g+'" data-v-ff416ef2></div><hr data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span> <span class="word" data-v-ff416ef2>發送信息</span><span class="then" data-v-ff416ef2>＜/</span> <span class="number" data-v-ff416ef2>button</span><span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>const </span><span class="word" data-v-ff416ef2>btn</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;button&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>btn</span><span class="variable" data-v-ff416ef2>.addEventListener</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;click&quot;</span><span class="then" data-v-ff416ef2>,</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>() { </span><span class="comment" data-v-ff416ef2> //回調</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>true</span><span class="comment" data-v-ff416ef2>//這樣btn改名btn111也可以</span><div data-v-ff416ef2></div></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//在這個普通函數裡面,我們要this由原來的window改為btn</span></div><span class="then" data-v-ff416ef2>this</span><span class="variable" data-v-ff416ef2>.disabled</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>false</span><div data-v-ff416ef2></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span><span class="variable" data-v-ff416ef2>.bind</span><span class="brackets" data-v-ff416ef2>(</span> <span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>),</span><span class="number" data-v-ff416ef2>2000</span> <span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>})</span></div><br data-v-ff416ef2></div><p class="fz28" data-v-ff416ef2>call &amp; apply &amp; bind</p><p class="fz28" data-v-ff416ef2>相同:</p><p class="fz28" data-v-ff416ef2>都可以改變函數內部的 this 指向</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>區別:</p><p class="fz28" data-v-ff416ef2> call &amp; apply 會 調用函數 , 並改變函數內部 this 指向 </p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2> call &amp; apply 傳遞的參數不一樣 , call (aru1 , aru2) apply ([數組]) </p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>bind 不會調用 , 會改變 this 指向</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>場景:</p><p class="fz28" data-v-ff416ef2>call 調用 並 傳遞 參數</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>apply 並用 並 傳遞 數組</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2> bind 不調用 , 但想改 this 指向 ex 改定時器內部 this 指向 </p><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><div id="threetips010" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.10 防抖 debounce </div><p class="fz28" data-v-ff416ef2>單位時間內 , 頻繁觸發事件 , 只執行最後一次</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>放技能 , 只要被打斷要重施放</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>場景</p><p class="fz28" data-v-ff416ef2> 搜尋框輸入 , 只需要用戶 最後一次輸入完 , 在發送請求 </p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="then" data-v-ff416ef2>＜</span> <span class="number" data-v-ff416ef2>input </span><span class="word" data-v-ff416ef2>type</span> <span class="then" data-v-ff416ef2>=</span><span class="src" data-v-ff416ef2>&quot;text&quot;</span> <span class="then" data-v-ff416ef2>&gt;</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>oInput</span> <span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>document</span><span class="variable" data-v-ff416ef2>.querySelector</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;input&quot;</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span> <span class="then" data-v-ff416ef2>null</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span> <span class="then" data-v-ff416ef2>this</span><span class="word" data-v-ff416ef2>.value</span> <span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>!==null</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>clearTimeout</span><span class="brackets" data-v-ff416ef2>(</span> <span class="word" data-v-ff416ef2>t</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="word" data-v-ff416ef2>.value</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><p data-v-ff416ef2>用閉包優化結構</p><div class="dis" data-v-ff416ef2><div class="w100" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>()</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="then" data-v-ff416ef2>null</span><div data-v-ff416ef2></div><span class="then" data-v-ff416ef2>return </span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>!==null</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>clearTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>t</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="word" data-v-ff416ef2>.value</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div class="w100" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>function</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="word" data-v-ff416ef2>.value</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>fn,delay</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="then" data-v-ff416ef2>null</span><div data-v-ff416ef2></div><span class="then" data-v-ff416ef2>return </span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>!==null</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>clearTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>t</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>fn</span><span class="brackets" data-v-ff416ef2>()</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>delay</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><p data-v-ff416ef2>測試發現輸出 undefined</p></div></div><div class="dis" data-v-ff416ef2><div class="w100" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>function</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>//發現this指向window</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>fn,delay</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//console.log(this)</span></div><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="then" data-v-ff416ef2>null</span><div data-v-ff416ef2></div><span class="then" data-v-ff416ef2>return </span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>!==null</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>clearTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>t</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//console.log(this) //這邊才指向input對象</span></div><span class="variable" data-v-ff416ef2>fn</span><span class="brackets" data-v-ff416ef2>()</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>delay</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><p data-v-ff416ef2>雖然這裡執行debounce這個函數</p><p data-v-ff416ef2>但返回的是內部這個函數(return..)</p><p data-v-ff416ef2>相當於onInput=右邊</p><p data-v-ff416ef2>這裡掛者的是內部返回的這個函數</p><p data-v-ff416ef2>所以內部這個函數的this指向</p><p data-v-ff416ef2>才是這個input對象</p></div><div class="w100" data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>oInput</span><span class="variable" data-v-ff416ef2>.oninput</span><span class="then" data-v-ff416ef2>=</span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="variable" data-v-ff416ef2>function</span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>console</span><span class="variable" data-v-ff416ef2>.log</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>) </span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>1000</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>debounce</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>fn,delay</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><div data-v-ff416ef2><span class="comment" data-v-ff416ef2>//console.log(this)</span></div><span class="function" data-v-ff416ef2>let </span><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="then" data-v-ff416ef2>null</span><div data-v-ff416ef2></div><span class="then" data-v-ff416ef2>return </span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>!==null</span><span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>clearTimeout</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>t</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt; </span><span class="brackets" data-v-ff416ef2>{</span><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>fn</span><span class="number" data-v-ff416ef2>.call</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>)</span><span class="brackets" data-v-ff416ef2>()</span></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="number" data-v-ff416ef2>delay</span><span class="brackets" data-v-ff416ef2>)</span></div></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div></div></div><div id="threetips011" class="articleCardTitle cor36 fz34" data-v-ff416ef2> 7.11 節流 throttle </div><p class="fz28" data-v-ff416ef2>單位時間內 , 頻繁觸發事件 , 執行一次</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>技能施放完 等待的 cd 時間</p><br data-v-ff416ef2><p class="fz28" data-v-ff416ef2>場景</p><p class="fz28" data-v-ff416ef2>滾動條</p><div class="bgcVS" data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>window</span><span class="word" data-v-ff416ef2>.onscroll</span> <span class="then" data-v-ff416ef2>=</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>alert</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;廣告&quot;</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><br data-v-ff416ef2><br data-v-ff416ef2><br data-v-ff416ef2><div data-v-ff416ef2><span class="word" data-v-ff416ef2>window</span><span class="variable" data-v-ff416ef2>.onscroll</span><span class="then" data-v-ff416ef2>=</span> <span class="word" data-v-ff416ef2>throttle</span><span class="brackets" data-v-ff416ef2>(</span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>alert</span><span class="brackets" data-v-ff416ef2>(</span> <span class="src" data-v-ff416ef2>&quot;廣告&quot;</span><span class="brackets" data-v-ff416ef2>)</span><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span> <span class="number" data-v-ff416ef2>2000</span><span class="brackets" data-v-ff416ef2>)</span></div><div data-v-ff416ef2><span class="function" data-v-ff416ef2>function </span><span class="word" data-v-ff416ef2>throttle</span><span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>fn,delay</span><span class="brackets" data-v-ff416ef2>){</span></div><div class="padTwo VSL" data-v-ff416ef2><span class="function" data-v-ff416ef2>let </span> <span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span> <span class="number" data-v-ff416ef2>true</span><div data-v-ff416ef2></div><span class="then" data-v-ff416ef2>return </span><span class="function" data-v-ff416ef2>function </span><span class="brackets" data-v-ff416ef2>(){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="then" data-v-ff416ef2>if</span> <span class="brackets" data-v-ff416ef2>(</span><span class="word" data-v-ff416ef2>time</span> <span class="brackets" data-v-ff416ef2>){</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="variable" data-v-ff416ef2>setTimeout</span><span class="brackets" data-v-ff416ef2>(()</span><span class="function" data-v-ff416ef2>=&gt;</span><span class="brackets" data-v-ff416ef2>{</span><div data-v-ff416ef2></div><div class="padTwo VSL" data-v-ff416ef2><span class="word" data-v-ff416ef2>fn</span><span class="variable" data-v-ff416ef2>.call</span><span class="brackets" data-v-ff416ef2>(</span><span class="then" data-v-ff416ef2>this</span><span class="brackets" data-v-ff416ef2>) </span><span class="comment" data-v-ff416ef2>// 綁在 window 有沒有 call 都可以</span><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span><span class="then" data-v-ff416ef2>=</span><span class="number" data-v-ff416ef2>true</span></div><div data-v-ff416ef2></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>},</span><span class="word" data-v-ff416ef2>delay</span><span class="brackets" data-v-ff416ef2>)</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div><div data-v-ff416ef2><span class="word" data-v-ff416ef2>time</span> <span class="then" data-v-ff416ef2>=</span><span class="number" data-v-ff416ef2>false</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><div data-v-ff416ef2><span class="brackets" data-v-ff416ef2>}</span></div></div><p class="fz28" data-v-ff416ef2></p><p class="fz28" data-v-ff416ef2></p><p class="fz28" data-v-ff416ef2></p><p class="fz28" data-v-ff416ef2></p><p class="fz28" data-v-ff416ef2></p>',102),E=o(()=>a("div",{class:"toTopButton"},[a("div",{class:"disCen"},"___"),a("div",{class:"disCen"},"▲")],-1)),$=[E],B=o(()=>a("div",{class:"toBotButton"},[a("div",{class:"disCen"},"▼"),a("div",{class:"disCen"},"￣")],-1)),P=[B],H={__name:"JsPageThreeSeven",setup(n){const e=u(!1);window.addEventListener("scroll",function(){e.value=window.scrollY>0});function b(){window.scrollTo({top:0,left:0,behavior:"smooth"})}function w(){window.scrollTo({top:999999,left:0,behavior:"smooth"})}function f(c){window.scrollTo({top:document.getElementById(`${c}`).offsetTop,behavior:"smooth"})}return(c,s)=>{const k=m("P");return h(),T(V,null,[a("section",null,[a("div",j,[a("div",z,[a("div",O,[a("div",{onClick:s[0]||(s[0]=d=>f("threetips001")),class:"leftNavText"},"淺拷貝"),a("div",{onClick:s[1]||(s[1]=d=>f("threetips002")),class:"leftNavText"},"深拷貝"),a("div",{onClick:s[2]||(s[2]=d=>f("threetips003")),class:"leftNavText"},"lodash"),a("div",{onClick:s[3]||(s[3]=d=>f("threetips004")),class:"leftNavText"},"JSON"),a("div",{onClick:s[4]||(s[4]=d=>f("threetips005")),class:"leftNavText"}," 異常處理 "),a("div",{onClick:s[5]||(s[5]=d=>f("threetips006")),class:"leftNavText"},"this"),a("div",{onClick:s[6]||(s[6]=d=>f("threetips007")),class:"leftNavText"},"call"),a("div",{onClick:s[7]||(s[7]=d=>f("threetips008")),class:"leftNavText"},"apply"),a("div",{onClick:s[8]||(s[8]=d=>f("threetips009")),class:"leftNavText"},"bind"),a("div",{onClick:s[9]||(s[9]=d=>f("threetips010")),class:"leftNavText"},"防抖"),a("div",{onClick:s[10]||(s[10]=d=>f("threetips011")),class:"leftNavText"},"節流")])])]),a("div",x,[a("div",C,[a("div",_,[N,a("div",D,[I,v(k,null,{default:p(()=>[S("2. 輸出當前時間可用 new Date().toLocaleString()")]),_:1}),J]),M])])])]),a("div",null,[l(v(r,{name:"fade",tag:"div"},{default:p(()=>[a("div",{onClick:b,class:"toTop"},$)]),_:1},512),[[i,e.value]]),l(v(r,{name:"fade",tag:"div"},{default:p(()=>[a("div",{onClick:w,class:"toBot"},P)]),_:1},512),[[i,e.value]])])],64)}}},K=y(H,[["__scopeId","data-v-ff416ef2"]]);export{K as default};
